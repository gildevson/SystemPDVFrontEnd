<div class="overlay" (click)="cancelar()">

  <div class="modal" (click)="$event.stopPropagation()">

    <h2>Atualizar Usuário</h2>

    <!-- LOADING DADOS -->
    <div *ngIf="carregandoDados" class="loading">
      <span class="material-icons spin">hourglass_empty</span>
      <p>Carregando dados...</p>
    </div>

    <!-- FORMULÁRIO -->
    <div *ngIf="!carregandoDados">

      <div class="form-group">
        <label>Nome *</label>
        <input
          type="text"
          [(ngModel)]="nome"
          placeholder="Nome do usuário"
          [disabled]="carregando" />
      </div>

      <div class="form-group">
        <label>Email *</label>
        <input
          type="email"
          [(ngModel)]="email"
          placeholder="email@exemplo.com"
          [disabled]="carregando" />
      </div>

      <div class="form-group">
        <label>Nova Senha (opcional)</label>
        <input
          type="password"
          [(ngModel)]="senha"
          placeholder="Mínimo 4 caracteres"
          [disabled]="carregando" />
        <small>Deixe em branco para manter a senha atual</small>
      </div>

      <!-- MENSAGENS -->
      <p class="erro" *ngIf="erro">
        <span class="material-icons">error</span>
        {{ erro }}
      </p>

      <p class="sucesso" *ngIf="sucesso">
        <span class="material-icons">check_circle</span>
        Atualizado com sucesso!
      </p>

      <!-- BOTÕES -->
      <div class="acoes">
        <button
          class="btn-cancelar"
          (click)="cancelar()"
          [disabled]="carregando">
          Cancelar
        </button>

        <button
          class="btn-salvar"
          (click)="atualizar()"
          [disabled]="carregando || !nome || !email">
          <span class="material-icons" *ngIf="carregando">hourglass_empty</span>
          {{ carregando ? 'Salvando...' : 'Atualizar' }}
        </button>
      </div>

    </div>

  </div>

</div>
