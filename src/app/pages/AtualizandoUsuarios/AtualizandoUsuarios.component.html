<div class="overlay" (click)="cancelar()">

  <div class="modal" (click)="$event.stopPropagation()">

    <h2>Atualizar Usu치rio</h2>

    <!-- LOADING DADOS -->
    <div *ngIf="carregandoDados" class="loading">
      <span class="material-icons spin">hourglass_empty</span>
      <p>Carregando dados...</p>
    </div>

    <!-- FORMUL츼RIO -->
    <div *ngIf="!carregandoDados">

      <!-- NOME -->
      <div class="form-group">
        <label>Nome <span class="required">*</span></label>
        <input
          type="text"
          [(ngModel)]="nome"
          placeholder="Nome do usu치rio"
          [disabled]="carregando" />
      </div>

      <!-- EMAIL -->
      <div class="form-group">
        <label>Email <span class="required">*</span></label>
        <input
          type="email"
          [(ngModel)]="email"
          placeholder="email@exemplo.com"
          [disabled]="carregando" />
      </div>

      <!-- 游 TIPO DE PERMISS츾O -->
      <div class="form-group">
        <label>Tipo de Usu치rio <span class="required">*</span></label>
        <select
          [(ngModel)]="permissaoId"
          [disabled]="carregando">
          <option [ngValue]="null" disabled>Selecione a permiss칚o</option>
          <option [ngValue]="1">游녬 Administrador</option>
          <option [ngValue]="2">游녻 Usu치rio</option>
        </select>
      </div>

      <!-- SENHA -->
      <div class="form-group">
        <label>Nova Senha (opcional)</label>
        <input
          type="password"
          [(ngModel)]="senha"
          placeholder="M칤nimo 6 caracteres"
          [disabled]="carregando" />
        <small>Deixe em branco para manter a senha atual</small>
      </div>

      <!-- MENSAGENS -->
      <p class="erro" *ngIf="erro">
        <span class="material-icons">error</span>
        {{ erro }}
      </p>

      <p class="sucesso" *ngIf="sucesso">
        <span class="material-icons">check_circle</span>
        Atualizado com sucesso!
      </p>

      <!-- BOT칏ES -->
      <div class="acoes">
        <button
          class="btn-cancelar"
          (click)="cancelar()"
          [disabled]="carregando">
          <span class="material-icons">close</span>
          Cancelar
        </button>

        <button
          class="btn-salvar"
          (click)="atualizar()"
          [disabled]="carregando || !nome || !email || !permissaoId">
          <span class="material-icons" *ngIf="!carregando">save</span>
          <span class="material-icons spin" *ngIf="carregando">hourglass_empty</span>
          {{ carregando ? 'Salvando...' : 'Atualizar' }}
        </button>
      </div>

    </div>

  </div>

</div>
